(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(24)},,,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),i=a.n(c),s=(a(14),a(1)),o=a(2),m=a(4),l=a(3),d=a(5),u=(a(16),a(18),function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},"\u70b9\u9910\u5566")}}]),t}(n.Component)),h=a(8),b=(a(20),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(l.a)(t).call(this,e))).handleOpenOrCloseEditArea=function(){a.props.data.ifCommented||a.setState({editting:!a.state.editting})},a.handleCommentChange=function(e){a.setState({comment:e.target.value})},a.handleClickStars=function(e){a.setState({stars:e})},a.handleCancelComment=function(){a.setState({editting:!1,comment:"",stars:0})},a.handleSubmitComment=function(){var e=a.props.data.id,t=a.state,n=t.comment,r=t.stars;a.setState({editting:!1}),a.props.onSubmitCallback(e,n,r)},a.state={editting:!1,stars:e.data.stars||0,comment:e.data.comment||""},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.shop,a=e.product,n=e.price,c=e.picture,i=e.ifCommented;return r.a.createElement("div",{className:"orderItem"},r.a.createElement("div",{className:"orderItem__containner"},r.a.createElement("div",{className:"orderItem__picContainner"},r.a.createElement("img",{alt:"",className:"orderItem__pic",src:c})),r.a.createElement("div",{className:"orderItem__content"},r.a.createElement("div",{className:"orderItem__product"},a),r.a.createElement("div",{className:"orderItem__shop"},t),r.a.createElement("div",{className:"orderItem__detail"},r.a.createElement("div",{className:"orderItem__price"},"\uffe5",n," "),r.a.createElement("div",{className:"orderItem__btn "},i?r.a.createElement("button",{className:"orderItem__btn--gray",onClick:this.handleOpenOrCloseEditArea},"\u5df2\u8bc4\u4ef7"):r.a.createElement("button",{className:"orderItem__btn--red",onClick:this.handleOpenOrCloseEditArea},"\u672a\u8bc4\u4ef7"))))),this.state.editting?this.renderEditArea():null)}},{key:"renderEditArea",value:function(){return r.a.createElement("div",{className:"orderItem__commentContainer"},r.a.createElement("textarea",{onChange:this.handleCommentChange,value:this.state.comment,maxLength:"300",className:"orderItem__comment",placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u8bc4\u4ef7"}),r.a.createElement("div",{className:"orderItem__StarContainer"},this.renderStars()),r.a.createElement("div",null,r.a.createElement("button",{className:" orderItem__btn--red",onClick:this.handleSubmitComment},"\u63d0\u4ea4"),r.a.createElement("button",{className:" orderItem__btn--gray",onClick:this.handleCancelComment},"\u53d6\u6d88")))}},{key:"renderStars",value:function(){var e=this,t=this.state.stars;return r.a.createElement("div",null,[1,2,3,4,5].map(function(a,n){var c=t>=a?"orderItem__star--light":"";return r.a.createElement("span",{key:n,className:"orderItem__star "+c,onClick:e.handleClickStars.bind(e,a)},"\u2605")}))}}]),t}(n.Component)),p=(a(22),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(l.a)(t).call(this,e))).handleSubmitCallback=function(e,t,n){var r=a.state.orderList.map(function(a){return a.id===e?Object(h.a)({},a,{comment:t,stars:n,ifCommented:!0}):a});a.setState({orderList:r})},a.state={orderList:[]},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://jiangjiesheng.gitee.io/react-demo-orderlist/mock/orders.json").then(function(t){t.ok&&t.json().then(function(t){e.setState({orderList:t})})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"orderList"},this.state.orderList.map(function(t){return r.a.createElement(b,{key:t.id,data:t,onSubmitCallback:e.handleSubmitCallback})}))}}]),t}(n.Component)),f=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(u,null),r.a.createElement(p,null))}}]),t}(n.Component);i.a.render(r.a.createElement(f,null),document.getElementById("root"))}],[[9,2,1]]]);
//# sourceMappingURL=main.e38b541b.chunk.js.map